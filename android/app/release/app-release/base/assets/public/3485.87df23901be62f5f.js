"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3485],{3485:(b,g,n)=>{n.r(g),n.d(g,{LoginPageModule:()=>w});var h=n(177),i=n(4341),t=n(4742),c=n(8986),e=n(3953),f=n(5678),m=n(5703);const p=[{path:"",component:(()=>{var s;class r{constructor(o,a,u,d){this.userservice=o,this.user=a,this.router=u,this.status=d,this.login=new i.gE({email:new i.MJ("",[i.k0.required]),password:new i.MJ("",[i.k0.required]),checked:new i.MJ(!1)})}ngOnInit(){var o=window.localStorage.getItem("castellouserid"),a=window.localStorage.getItem("castellopassword");this.login.controls.email.setValue(o),this.login.controls.password.setValue(a),null!=o&&this.login.controls.checked.setValue(!0)}doLogin(){this.userservice.login(this.login.controls.email.value,this.login.controls.password.value).subscribe(o=>{1==this.login.controls.checked.value?(window.localStorage.setItem("castellouserid",this.login.controls.email.value),window.localStorage.setItem("castellopassword",this.login.controls.password.value)):(window.localStorage.removeItem("castellouserid"),window.localStorage.removeItem("castellopassword")),this.user.CognomePG=o.user.CognomePG,this.user.IDbp=o.user.IDbp,this.user.IDprofessione=o.user.IDprofessione,this.user.IDspecial=o.user.IDspecial,this.user.IDutente=o.user.IDutente,this.user.Miti=Number(o.user.Miti),this.user.NomePG=o.user.NomePG,this.user.PF=Number(o.user.PF),this.user.Sanita=Number(o.user.Sanita),this.user.URLimg=o.user.URLimg,this.user.aaaa=o.user.aaaa,this.user.bonus=o.user.bonus,this.user.desc=o.user.desc,this.user.descbp=o.user.descbp,this.user.gg=o.user.gg,this.user.mm=o.user.mm,this.user.nomeprofessione=o.user.nomeprofessione,this.user.nomespecial=o.user.nomespecial,this.user.registratioID=o.user.registratioID,this.user.xbonus=o.user.registratioID,this.user.xspecpg=o.user.xspecpg,this.status.generico=!1,this.status.magie=!1,this.router.navigate(["tabs"])},o=>{switch(o.status){case 401:alert("Non autorizzato");break;case 404:alert("Scheda non trovata");break;default:alert("Server error")}})}}return(s=r).\u0275fac=function(o){return new(o||s)(e.rXU(f.D),e.rXU(m.KJ),e.rXU(c.Ix),e.rXU(m.nW))},s.\u0275cmp=e.VBU({type:s,selectors:[["app-login"]],decls:31,vars:4,consts:[["formDir","ngForm"],[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],["src","assets/imgs/logo.png"],[3,"formGroup"],["size","10","offset","1"],["label","Login","type","email","labelPlacement","floating","placeholder","user@home","formControlName","email"],["label","Password","type","password","labelPlacement","floating","placeholder","Password","formControlName","password"],["slot","end","color","medium"],["shape","round","color","danger","expand","block",3,"click","disabled"],["size","10","offset","1",1,"all"],["name","saveme","formControlName","checked","labelPlacement","end"],[2,"color","#b0b0b0","font-size","0.75em"]],template:function(o,a){if(1&o){const u=e.RV6();e.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Il Castello della Follia"),e.k0s()()(),e.j41(4,"ion-content",2)(5,"ion-header",3)(6,"ion-toolbar")(7,"ion-title",4),e.EFF(8,"Il Castello della Follia"),e.k0s()()(),e.j41(9,"ion-row")(10,"ion-col"),e.nrm(11,"img",5),e.k0s()(),e.j41(12,"form",6,0)(14,"ion-row")(15,"ion-col",7)(16,"ion-item"),e.nrm(17,"ion-input",8),e.k0s(),e.j41(18,"ion-item")(19,"ion-input",9),e.nrm(20,"ion-input-password-toggle",10),e.k0s()(),e.j41(21,"ion-button",11),e.bIt("click",function(){return e.eBV(u),e.Njj(a.doLogin())}),e.EFF(22,"Login"),e.k0s()(),e.j41(23,"ion-col",12)(24,"ion-checkbox",13),e.EFF(25,"Ricordami"),e.k0s()()()(),e.j41(26,"ion-row")(27,"ion-col",12)(28,"div",14),e.nrm(29,"br"),e.EFF(30,"v 1.0.01"),e.k0s()()()()}if(2&o){const u=e.sdS(13);e.Y8G("translucent",!0),e.R7$(4),e.Y8G("fullscreen",!0),e.R7$(8),e.Y8G("formGroup",a.login),e.R7$(9),e.Y8G("disabled",!u.form.valid)}},dependencies:[i.qT,i.BC,i.cb,i.j4,i.JD,t.Jm,t.eY,t.hU,t.W9,t.eU,t.$w,t.Wv,t.uz,t.ln,t.BC,t.ai,t.hB,t.Gw],styles:["ion-col[_ngcontent-%COMP%]{text-align:center}.all[_ngcontent-%COMP%]{text-align:left}"]}),r})()}];let v=(()=>{var s;class r{}return(s=r).\u0275fac=function(o){return new(o||s)},s.\u0275mod=e.$C({type:s}),s.\u0275inj=e.G2t({imports:[c.iI.forChild(p),c.iI]}),r})(),w=(()=>{var s;class r{}return(s=r).\u0275fac=function(o){return new(o||s)},s.\u0275mod=e.$C({type:s}),s.\u0275inj=e.G2t({imports:[h.MD,i.YN,i.X1,t.bv,v]}),r})()}}]);